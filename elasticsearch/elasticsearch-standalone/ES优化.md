索引数据的规划，应在前期做好规划，设计先行，编码在后。

# 索引

## 查询

1. 合理的路由机制

## 写入

1. 写入前副本数为0

2. 写入前关闭 refresh_interval 设置为-1 ，禁用刷新机制

3. 使用bulk 批量写入

4. 尽量使用自动生成的ID

   

## 索引设计

1. 按天或按月索引

   根据业务增量需求，采取基于日期模板创建索引，通过 roll over API滚动索引。

2. 使用别名进行索引管理

3. 每天凌晨进行 force_merge 操作

4. 冷热数据分离，热数据存储到SSD，冷数据定期进行shrink操作

5. 使用 curator进行索引的生命周期管理

6. 仅对需要的字段进行分词，其他使用keyword

7. Mapping 设计充分考虑每天字段的属性，是否需要检索，是否需要存储等

8. 

# 存储

# 部署